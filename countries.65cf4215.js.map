{"mappings":"uiBAcA,SAASA,EAASC,EAAMC,EAAMC,GAC5B,IAAIC,EAASC,EAAMC,EAASC,EAAWC,EAGvC,SAASC,IACP,IAAIC,EAAOC,KAAKC,MAAQL,EAEpBG,EAAOR,GAAQQ,GAAQ,EACzBN,EAAUS,WAAWJ,EAAOP,EAAOQ,IAEnCN,EAAU,KACLD,IACHK,EAASP,EAAKa,MAAMR,EAASD,GAC7BC,EAAUD,EAAO,MAGvB,CAdI,MAAQH,IAAMA,EAAO,KAgBzB,IAAIa,EAAY,WACdT,EAAUU,KACVX,EAAOY,UACPV,EAAYI,KAAKC,MACjB,IAAIM,EAAUf,IAAcC,EAO5B,OANKA,IAASA,EAAUS,WAAWJ,EAAOP,IACtCgB,IACFV,EAASP,EAAKa,MAAMR,EAASD,GAC7BC,EAAUD,EAAO,MAGZG,CACT,EAmBA,OAjBAO,EAAUI,MAAQ,WACZf,IACFgB,aAAahB,GACbA,EAAU,KAEd,EAEAW,EAAUM,MAAQ,WACZjB,IACFI,EAASP,EAAKa,MAAMR,EAASD,GAC7BC,EAAUD,EAAO,KAEjBe,aAAahB,GACbA,EAAU,KAEd,EAEOW,CACT,CAGAf,EAASsB,SAAWtB,EAEpBuB,EAAiBvB,E,iBCrEF,SAAAwB,EAAwBC,GAGrC,OAAOC,MAFK,uCAAuCD,oDAEjCE,MAAKC,GAAYA,EAASC,QAW9C,CCRA,MAEMC,EAAeC,SAASC,cAAc,eACtCC,EAAiBF,SAASC,cAAc,iBACxCE,EAAiBH,SAASC,cAAc,iBAa9C,SAASG,EAAoBC,GAC3B,MAAMC,EAAkBD,EAAUE,OAyBlCL,EAAeM,UAAY,GAC3BL,EAAeK,UAAY,GAvBtBF,EAKDA,EAAkB,GACpBG,EAAAC,OAAOC,KAAK,8DAIU,IAApBL,EAKAA,EAAkB,IAAMA,EAAkB,IAC5CJ,EAAeM,UAsBnB,SAAwBH,GACtB,MAAMO,EAAS,GASf,OARAP,EAAUQ,SAAQ,EAACnB,KAAEA,EAAIoB,MAAEA,MACzBF,EAAOG,KAAK,8BAECD,EAAME,oDACStB,EAAKuB,kCAEhC,IAEIL,EAAOM,KAAK,GACrB,CAjC+BC,CAAed,IAL1CF,EAAeK,UAenB,SAA+BY,GAC7B,MAAM1B,KAAEA,EAAI2B,QAAEA,EAAOC,WAAEA,EAAUR,MAAEA,EAAKS,UAAEA,GAAcH,EAQxD,MAPe,kBACFN,EAAME,iDACQtB,EAAKuB,wCACZI,EAAQ,yCACLC,uCACDE,OAAOC,OAAOF,GAAWL,KAAK,qBAGtD,CAzB+BQ,CAAsBrB,EAAU,IAV3DI,EAAAC,OAAOiB,QAAQ,2CAkBnB,CAgCA,SAASC,EAAYC,GACnBpB,EAAAC,OAAOiB,QAAQ,aACfG,QAAQC,IAAIF,EAYd,CAhFApB,EAAAC,OAAOsB,KAAK,CACVC,SAAU,eAGZlC,EAAamC,iBAAiB,QAASC,EAAA3C,EAAA,EAEvC,SAAqB4C,GAEnB3C,EADa2C,EAAMC,OAAOC,MAAMC,QACX3C,KAAKQ,GAAqBoC,MAAMZ,EACvD,GAfuB,K","sources":["node_modules/debounce/index.js","src/js/countriesAPI.js","src/js/countries.js"],"sourcesContent":["/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing. The function also has a property 'clear' \n * that is a function which will clear the timer to prevent previously scheduled executions. \n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\nfunction debounce(func, wait, immediate){\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = Date.now() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    }\n  };\n\n  var debounced = function(){\n    context = this;\n    args = arguments;\n    timestamp = Date.now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n\n  debounced.clear = function() {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n  \n  debounced.flush = function() {\n    if (timeout) {\n      result = func.apply(context, args);\n      context = args = null;\n      \n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  return debounced;\n};\n\n// Adds compatibility for ES modules\ndebounce.debounce = debounce;\n\nmodule.exports = debounce;\n","export default function fetchCountries(name) {\n  const url = `https://restcountries.com/v3.1/name/${name}?fields=name,capital,population,flags,languages`;\n\n  return fetch(url).then(responce => responce.json());\n\n  ////  if you want to handle the error here, you should do as below\n\n  // return fetch(url).then(responce => {\n  //   if (responce.ok) {\n  //     return responce.json();\n  //   }\n  //   // throw new Error(responce.statusText);\n  //   throw responce.status;\n  // });\n}\n","import 'notiflix/dist/notiflix-3.2.6.min.css';\nimport '../css/countries.css';\nimport _debounce from 'debounce';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport fetchCountries from './countriesAPI';\n\nconst DEBOUNCE_DELAY = 300;\n\nconst refSearchBox = document.querySelector('#search-box');\nconst refCountryList = document.querySelector('.country-list');\nconst refCountryInfo = document.querySelector('.country-info');\n\nNotify.init({\n  position: 'center-top',\n});\n\nrefSearchBox.addEventListener('input', _debounce(onSearchBox, DEBOUNCE_DELAY));\n\nfunction onSearchBox(event) {\n  const name = event.target.value.trim();\n  fetchCountries(name).then(renderFoundCoutries).catch(notifyError);\n}\n\nfunction renderFoundCoutries(countries) {\n  const countriesNumber = countries.length;\n  resetMarkUp();\n\n  if (!countriesNumber) {\n    Notify.failure('Oops, there is no country with that name');\n    return;\n  }\n\n  if (countriesNumber > 10) {\n    Notify.info('Too many matches found. Please enter a more specific name.');\n    return;\n  }\n\n  if (countriesNumber === 1) {\n    refCountryInfo.innerHTML = makeInformationMarkup(countries[0]);\n    return;\n  }\n\n  if (countriesNumber < 11 && countriesNumber > 1) {\n    refCountryList.innerHTML = makeListMarkup(countries);\n    return;\n  }\n}\n\nfunction resetMarkUp() {\n  refCountryList.innerHTML = '';\n  refCountryInfo.innerHTML = '';\n}\n\nfunction makeInformationMarkup(country) {\n  const { name, capital, population, flags, languages } = country;\n  const markup = `\n  <img src = ${flags.svg} width = 80 />\n  <span class=\"info__name\">${name.official}</span>\n  <p>Capital: <span>${capital[0]}</span></p>\n  <p>Population: <span>${population}</span></p>\n  <p>Languages: <span>${Object.values(languages).join(',')}</span></p>\n  `;\n  return markup;\n}\n\nfunction makeListMarkup(countries) {\n  const markUp = [];\n  countries.forEach(({ name, flags }) => {\n    markUp.push(`\n    <li>\n    <img src = ${flags.svg} width = 40 />\n    <span class=\"list__name\"> ${name.official}<span>\n    </li>\n    `);\n  });\n  return markUp.join('');\n}\n\nfunction notifyError(error) {\n  Notify.failure('Error !!!');\n  console.log(error);\n\n  // another error handler\n\n  // if ((error = '404')) {\n  //   Notify.failure(\n  //     `Just Not Found ) Error ${error}\n  //     Oops, there is no country with that name`\n  //   );\n  //   return;\n  // }\n  // Notify.failure(`Error ${error}`);\n}\n"],"names":["$004cd6322d5b1502$var$debounce","func","wait","immediate","timeout","args","context","timestamp","result","later","last","Date","now","setTimeout","apply","debounced","this","arguments","callNow","clear","clearTimeout","flush","debounce","$004cd6322d5b1502$exports","$0c40ffc73ce88cac$export$2e2bcd8739ae039","name","fetch","then","responce","json","$54b9caa9afa224e4$var$refSearchBox","document","querySelector","$54b9caa9afa224e4$var$refCountryList","$54b9caa9afa224e4$var$refCountryInfo","$54b9caa9afa224e4$var$renderFoundCoutries","countries","countriesNumber","length","innerHTML","$h6c0i","Notify","info","markUp","forEach","flags","push","svg","official","join","$54b9caa9afa224e4$var$makeListMarkup","country","capital","population","languages","Object","values","$54b9caa9afa224e4$var$makeInformationMarkup","failure","$54b9caa9afa224e4$var$notifyError","error","console","log","init","position","addEventListener","$parcel$interopDefault","event","target","value","trim","catch"],"version":3,"file":"countries.65cf4215.js.map"}